# Top-level cmakelists.txt
cmake_minimum_required(VERSION 3.16)

# Components names
set(CMAKE_PROJECT_NAME Simulator)

# General configuration
if(NOT CMAKE_BUILD_TYPE)
  set(CMAKE_BUILD_TYPE Debug)
endif()
add_definitions(-DUNICODE -D_UNICODE)
set_property(GLOBAL PROPERTY USE_FOLDERS ON)

# Simulator setup
project(${CMAKE_PROJECT_NAME})
add_executable(${CMAKE_PROJECT_NAME} main.cpp)
set_target_properties(${CMAKE_PROJECT_NAME} PROPERTIES
    CXX_STANDARD 20
    CXX_STANDARD_REQUIRED YES
)

# Renderer
add_subdirectory(Renderer)
add_dependencies(${CMAKE_PROJECT_NAME} Renderer)
target_link_libraries(${CMAKE_PROJECT_NAME} PRIVATE Renderer)

set_property(DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR} PROPERTY VS_STARTUP_PROJECT ${CMAKE_PROJECT_NAME})